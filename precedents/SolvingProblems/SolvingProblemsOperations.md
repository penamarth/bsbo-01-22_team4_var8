# Методы класса Issue

## 1. Операция: `createIssue(issueID: IssueID, issueData: IssueData)`

### Ссылки:
Прецедент: Создание нового сообщения о проблеме

### Предусловия:
- Пользователь (квартиросъёмщик или владелец) аутентифицирован и имеет доступ к функционалу создания проблем.
- Данные для создания проблемы корректны и соответствуют требованиям системы.

### Постусловия:
- Проблема успешно создана в базе данных.
- Пользователь видит подтверждение об успешном создании проблемы.
- Владелец уведомлен о новой проблеме.

### Действия:
1. Система вызывает метод `Issue::create(issueID, issueData)`.
2. Проблема создается в соответствии с переданными данными.
3. Система обновляет статус проблемы на "В процессе".
4. Система отправляет уведомление владельцу о новой проблеме.
5. Пользователи получают доступ к истории проблемы и могут отслеживать её статус.

---

## 2. Операция: `updateIssueStatus(issueID: IssueID, newStatus: IssueStatus)`

### Ссылки:
Прецедент: Обновление статуса проблемы

### Предусловия:
- Проблема с ID issueID существует в системе.
- Пользователь (квартиросъёмщик или владелец) аутентифицирован и имеет права на изменение статуса этой проблемы.
- Новый статус корректен и соответствует требованиям системы.

### Постусловия:
- Статус проблемы обновлен в базе данных.
- Пользователи видят актуальную информацию о статусе проблемы.
- Администратор уведомлен о изменении статуса.

### Действия:
1. Система вызывает метод `Issue::updateStatus(issueID, newStatus)`.
2. Статус проблемы обновляется до указанного нового статуса.
3. Система обновляет историю проблемы и статус пользователя.
4. Система отправляет уведомления пользователям о изменении статуса.

---

## 3. Операция: `addComment(issueID: IssueID, comment: String)`

### Ссылки:
Прецедент: Добавление комментария к проблеме

### Предусловия:
- Проблема с ID issueID существует в системе.
- Пользователь (квартиросъёмщик или владелец) аутентифицирован и имеет права на добавление комментария к этой проблеме.

### Постусловия:
- Комментарий успешно добавлен в базу данных.
- Пользователи видят новый комментарий в истории проблемы.
- Администратор уведомлен о добавлении нового комментария.

### Действия:
1. Система вызывает метод `Issue::addComment(issueID, comment)`.
2. Комментарий добавляется в историю проблемы.
3. Система обновляет статус проблемы (если необходимо).
4. Система отправляет уведомления пользователям о новом комментарии.

---

## 4. Операция: `escalateIssue(issueID: IssueID)`

### Ссылки:
Прецедент: Эскалация проблемы администратору

### Предусловия:
- Проблема с ID issueID существует в системе.
- Проблема не решена в установленный срок.
- Квартиросъёмщик аутентифицирован и имеет право эскалации.

### Постусловия:
- Проблема перенаправлена в систему администратора.
- Администратор уведомлен о новой проблеме для рассмотрения.
- Квартиросъёмщик видит статус проблемы как "Эскалирована".

### Действия:
1. Система вызывает метод `Issue::escalate(issueID)`.
2. Проблема помечается как эскалированная в базе данных.
3. Система отправляет уведомление администратору о новой проблеме.
4. Система обновляет статус проблемы для квартиросъёмщика.

---

## 5. Операция: `closeIssue(issueID: IssueID)`

### Ссылки:
Прецедент: Закрытие проблемы

### Предусловия:
- Проблема с ID issueID существует в системе.
- Проблема находится в статусе "Решено".
- Квартиросъёмщик или владелец аутентифицирован и имеет права на закрытие проблемы.

### Постусловия:
- Проблема закрыта в базе данных.
- Пользователи видят статус проблемы как "Закрыто".
- Администратор уведомлен о закрытии проблемы.

### Действия:
1. Система вызывает метод `Issue::close(issueID)`.
2. Проблема помечается как закрытая в базе данных.
3. Система обновляет историю проблемы и статус пользователя.
4. Система отправляет уведомления пользователям о закрытии проблемы.

---

## 6. Операция: `getIssueHistory(issueID: IssueID)`

### Ссылки:
Прецедент: Получение истории проблемы

### Предусловия:
- Проблема с ID issueID существует в системе.
- Пользователь (квартиросъёмщик, владелец или администратор) аутентифицирован и имеет права на просмотр истории проблемы.

### Постусловия:
- История проблемы успешно загружена в интерфейс пользователя.
- Пользователь может просматривать полную историю проблемы.

### Действия:
1. Система вызывает метод `Issue::getHistory(issueID)`.
2. Система собирает всю историю проблемы из базы данных.
3. Система форматирует и отображает историю в удобном для пользователя виде.
4. Система предоставляет пользователю возможность просмотреть историю проблемы.
