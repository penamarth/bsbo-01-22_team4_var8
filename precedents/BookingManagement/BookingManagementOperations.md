# Описание Системных Операций

## 1. Операция: `getBookingStatus(bookingID: UUID)`

### Ссылки:
Прецедент: Просмотр текущего бронирования

### Предусловия:
- Бронирование с ID `bookingID` существует в системе.
- Квартиросъёмщик аутентифицирован и имеет доступ к этому бронированию.

### Постусловия:
- Статус бронирования обновлен в базе данных.
- Квартиросъёмщик видит актуальную информацию о статусе бронирования.

### Действия:
1. Система вызывает метод `BookingManager::getBookingByID(bookingID)` для получения объекта бронирования.
2. Система вызывает метод `Booking::getStatus()` для получения актуального статуса бронирования.
3. Система отправляет эту информацию квартиросъёмщику через интерфейс пользователя.

---

## 2. Операция: `modifyBooking(bookingID: UUID, data: BookingData)`

### Ссылки:
Прецедент: Изменение или отмена бронирования квартиросъёмщиком

### Предусловия:
- Бронирование с ID `bookingID` существует в системе.
- Квартиросъёмщик аутентифицирован и имеет права на изменение этого бронирования.
- Данные для изменения корректны и соответствуют требованиям системы.

### Постусловия:
- Бронирование изменено или отменено в базе данных.
- Квартиросъёмщик видит подтверждение об успешном изменении бронирования.
- Владелец уведомлен о внесённых изменениях.

### Действия:
1. Система вызывает метод `BookingManager::getBookingByID(bookingID)` для получения бронирования.
2. Система вызывает метод `Booking::modify(data)` или `Booking::cancel()`, чтобы изменить или отменить бронирование.
3. Система обновляет информацию о доступности жилья.
4. Система отправляет уведомление владельцу через метод `NotificationModule::notifyObservers(notification)`.

---

## 3. Операция: `confirmBooking(bookingID: UUID)`

### Ссылки:
Прецедент: Подтверждение бронирования владельцем

### Предусловия:
- Бронирование с ID `bookingID` существует в системе.
- Владелец аутентифицирован и имеет права на подтверждение этого бронирования.
- Статус бронирования установлен как "ожидает подтверждения".

### Постусловия:
- Бронирование подтверждено в базе данных.
- Владелец видит подтверждение об успешном подтверждении бронирования.
- Квартиросъёмщик уведомлен о подтверждении бронирования.

### Действия:
1. Система вызывает метод `BookingManager::getBookingByID(bookingID)` для получения объекта бронирования.
2. Система вызывает метод `Booking::confirm()` для изменения статуса на "подтверждено".
3. Система отправляет уведомление владельцу и квартиросъёмщику через `NotificationModule::notifyObservers(notification)`.

---

## 4. Операция: `rejectBooking(bookingID: UUID, reason: String)`

### Ссылки:
Прецедент: Отказ в бронировании владельцем

### Предусловия:
- Бронирование с ID `bookingID` существует в системе.
- Владелец аутентифицирован и имеет права на отклонение этого бронирования.
- Статус бронирования установлен как "ожидает подтверждения".

### Постусловия:
- Бронирование отклонено в базе данных.
- Владелец видит подтверждение об успешном отклонении бронирования.
- Квартиросъёмщик уведомлен о отклонении бронирования.

### Действия:
1. Система вызывает метод `BookingManager::getBookingByID(bookingID)` для получения объекта бронирования.
2. Система вызывает метод `Booking::reject(reason)` для изменения статуса на "отклонено".
3. Система отправляет уведомление владельцу и квартиросъёмщику через `NotificationModule::notifyObservers(notification)`.

---

## 5. Операция: `extendBooking(bookingID: UUID, duration: Duration)`

### Ссылки:
Прецедент: Продление бронирования

### Предусловия:
- Бронирование с ID `bookingID` существует в системе.
- Квартиросъёмщик аутентифицирован и имеет права на продление этого бронирования.
- Статус бронирования установлен как "активно".

### Постусловия:
- Бронирование продлено в базе данных.
- Квартиросъёмщик видит подтверждение об успешном продлении бронирования.
- Владелец уведомлен о продлении бронирования.

### Действия:
1. Система вызывает метод `BookingManager::getBookingByID(bookingID)` для получения объекта бронирования.
2. Система вызывает метод `Booking::extend(duration)` для изменения сроков бронирования.
3. Система отправляет уведомление владельцу и квартиросъёмщику через `NotificationModule::notifyObservers(notification)`.

---

## 6. Операция: `notifyUsers(bookingID: UUID, message: String)`

### Ссылки:
Прецедент: Уведомление участников о статусе бронирования

### Предусловия:
- Бронирование с ID `bookingID` существует в системе.
- Система настроена на отправку уведомлений.

### Постусловия:
- Уведомления успешно отправлены пользователям.
- Лог уведомлений обновлен в системе.

### Действия:
1. Система вызывает метод `NotificationModule::notifyObservers(notification)` для отправки уведомлений пользователям (квартиросъёмщику и владельцу).
2. Система отправляет уведомления через соответствующие каналы связи.
3. Лог уведомлений обновляется в системе.
